function indexService(){function e(e){Stamplay.User.socialLogin(socialProvider[e])}function r(e){if(e){var r={usuario:e,periodoDesde:new Date};Stamplay.Object("reservas").get(r).then(function(e){},function(e){console.log(e)})}else $("#login-dialog").modal()}var i={buscarPorDia:r,login:e};return i}function indexCtrl(e,r,i,n){var o=this;$.material.init(),e.credenciales={},e.percent=65,e.options={animate:{duration:1e3,enabled:!0},barColor:"RED",scaleColor:"#e8eff0",lineWidth:10,size:150,lineCap:"butt"},e.labels=["January","February","March","April","May","June","July"],e.series=["Series A"],e.data=[[65,59,80,81,56,55,40]],e.onClick=function(e,r){console.log(e,r)},e.datasetOverride=[{yAxisID:"y-axis-1"}],e.optionsLine={responsive:!0,scales:{yAxes:[{id:"y-axis-1",type:"linear",display:!0,position:"left"}]}},n.currentUser().then(function(r){r||e.user?(e.user=r?r:e.user,Stamplay.Object("usuarios").get({owner:e.user._id}).then(function(r){e.user.perfil=r.data[0],o.buscarReservasDia()},function(e){console.log(e)})):(console.error("No hay usuario logueado"),$("#login-dialog").modal())}),o.login=function(){r.login(credenciales)},o.buscarReservasDia=function(){r.buscarPorDia(e.user)}}angular.module("MiParking",["ui.router","chart.js","easypiechart"]).constant("socialProvider",["facebook","google"]).factory("AccountService",["$q",function(e){return{currentUser:function(){var r=e.defer();return Stamplay.User.currentUser().then(function(e){void 0===e.user?r.resolve(!1):r.resolve(e.user)},function(e){r.reject()}),r.promise}}}]).config(["$stateProvider","$urlRouterProvider",function(e,r){r.otherwise("/"),e.state("home",{url:"/",sticky:!0,dsr:!0,views:{navView:{templateUrl:"templates/nav.html"},contentView:{templateUrl:"templates/index.html",controller:"indexCtrl"}}})}]),angular.module("MiParking").factory("indexService",[indexService]),angular.module("MiParking").controller("indexCtrl",["$scope","indexService","socialProvider","AccountService",indexCtrl]);
//# sourceMappingURL=maps/app.js.map
